<!DOCTYPE HTML>
<html>
<head>
	<script>
		/*function validarNombre()
		{
			var nombre=document.getElementById("nombre").value;

		}*/
		/*function validarNombre(obj_input)
		{
			var nombre=obj_input.value;

		}*/
		function validarNombre(nombre)
		{
			
			if(nombre.length<4)
			{
				alert("El campo debe tener al menos 4 caracteres");
			}
		}
		function validarEmail(mail) 
			{
			 if (/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(mail))
			  {

			    return (true)
			  }
			    alert("El email es incorrecto")
			    return (false)
			}
			function haCorrido()
			{
				//Voy a comprobar que no haya campos.
				//Formas:
				//1-Velo si existe el id distancia
				if (document.getElementById("distancia")!=null)
				{
					//Ya tengo el campo. Noi hago nada
				}
				else
				{
					//No existe el campo, así qu lo creo
				var obj_distancia=document.createElement("input");
				obj_distancia.id="distancia";
				obj_distancia.type="number";
				document.getElementById("campo_corredor").appendChild(obj_distancia);
				}
			}
			function noHaCorrido()
			{
				//Tengo que borrar el campo de id=distancia
				//padre.removeChild(...)
				if (document.getElementById("distancia")!=null)
				{
				document.getElementById("campo_corredor").removeChild(document.getElementById("distancia"));
				}
			}
			function indicarDatos()
			{
				var nombre=document.getElementById("nombre").value;
				var email=document.getElementById("email").value;
				var saludo="Te llamas "+nombre+" tienes email: "+email;
				//Si ha coorido antes, le pongo más texto al alert(la variable saludo)
				//Opción 1, mirando el id de la opción SI:
				//var hacorrido=document.getElementById("sihacorrido").checked;
				var r_buttons=document.getElementsByName("hacorrido");
				var hacorrido=r_buttons[0].checked;
				if (hacorrido)
				{
					var distancia=document.getElementById("distancia").value;
					saludo=saludo+" y has corrido distancia de "+distancia+" km";
				}
				alert(saludo);
			}
		</script>
</head>
<body>
	<form>
		<input type="text" id="nombre" placeholder="Pon tu nombre. Mínimo 4 caracteres" onblur="validarNombre(this.value);">
		<input type="email" id="email" placeholder="Pon tu email. " onblur="validarEmail(this.value);">
		<br>
		<input type="radio" id="sihacorrido" name="hacorrido" value="SI" onclick="haCorrido();">SI<br>
		<input type="radio" name="hacorrido" value="NO" onclick="noHaCorrido();" checked>NO<br>
		<div id="campo_corredor"></div>
		<input type="button" onclick="indicarDatos()" value="Enviar">
	</form>
</body>
</html>